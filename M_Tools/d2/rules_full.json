{
  "meta": {
    "version": "2025-11-28-国服A-expanded-v1",
    "description": "D2R 国服 (A) 规则库扩展版。覆盖常见白板底材、成品词、项链/戒指/鞋/手套/法杖/头盔等组合。规则按优先级顺序排列（文件顺序优先）。",
    "notes": "supported condition keys: defense_min, allres_min, fcr_min, sockets_min, ethereal, damage_min_min, damage_max_min, frw_min, mf_min, resist_each_min, resist_count_min, resist_any_min, skills_plus_any_min, ias_min, life_min, mana_min, str_min, dex_min, skill_exact"
  },
  "rules": [
    { "id":"spirit_monarch_148_35", "match":{"misc.runeword":"Spirit","type":"Monarch"}, "conditions": {"defense_min":148,"allres_min":35}, "value":"极高价值","reason":"Spirit Monarch: 防御>=148 且 全抗>=35（顶配）" },
    { "id":"spirit_monarch_148_30", "match":{"misc.runeword":"Spirit","type":"Monarch"}, "conditions": {"defense_min":148,"allres_min":30}, "value":"极高价值","reason":"Spirit Monarch: 防御>=148 且 全抗>=30" },
    { "id":"spirit_monarch_140_35", "match":{"misc.runeword":"Spirit","type":"Monarch"}, "conditions": {"defense_min":140,"allres_min":35}, "value":"高价值","reason":"Spirit Monarch: 防御>=140 且 全抗>=35" },
    { "id":"spirit_monarch_140_30", "match":{"misc.runeword":"Spirit","type":"Monarch"}, "conditions": {"defense_min":140,"allres_min":30}, "value":"高价值","reason":"Spirit Monarch: 防御>=140 & 全抗>=30" },
    { "id":"spirit_monarch_130", "match":{"misc.runeword":"Spirit","type":"Monarch"}, "conditions": {"defense_min":130}, "value":"中等价值","reason":"Spirit Monarch 基本成品（防御>=130）" },
    { "id":"monarch_white_150", "match":{"type":"Monarch"}, "conditions":{"defense_min":150}, "value":"顶级白板底材","reason":"Monarch 防御>=150，稀有白板" },
    { "id":"monarch_white_148", "match":{"type":"Monarch"}, "conditions":{"defense_min":148}, "value":"极高白板底材","reason":"Monarch 防御>=148" },
    { "id":"monarch_white_140", "match":{"type":"Monarch"}, "conditions":{"defense_min":140}, "value":"高价值白板底材","reason":"Monarch 防御>=140" },
    { "id":"sacred_targe_45res", "match":{"type":"Sacred Targe"}, "conditions":{"resist_each_min":45,"resist_count_min":3}, "value":"极高底材","reason":"圣盾 三抗>=45 顶配" },
    { "id":"sacred_targe_40res", "match":{"type":"Sacred Targe"}, "conditions":{"resist_each_min":40,"resist_count_min":3}, "value":"高底材","reason":"圣盾 三抗>=40" },
    { "id":"insight_eth_high", "match":{"misc.runeword":"Insight"}, "conditions":{"ethereal":true,"damage_max_min":200}, "value":"高价值(Insight eth 高伤)","reason":"Insight 无形高伤武器" },
    { "id":"insight_default", "match":{"misc.runeword":"Insight"}, "conditions":{}, "value":"中等价值(Insight)","reason":"Insight 常规成品" },
    { "id":"infinity_eth_high", "match":{"misc.runeword":"Infinity"}, "conditions":{"ethereal":true,"damage_max_min":300}, "value":"高价值(Infinity eth)","reason":"Infinity 无形高伤" },
    { "id":"infinity_default", "match":{"misc.runeword":"Infinity"}, "conditions":{}, "value":"中高价值(Infinity)","reason":"Infinity 成品" },
    { "id":"fort_high_def", "match":{"misc.runeword":"Fort"}, "conditions":{"defense_min":2500}, "value":"高价值(Fort 高防)","reason":"Fortitude 高防" },
    { "id":"fort_default", "match":{"misc.runeword":"Fort"}, "conditions":{}, "value":"成品价值(Fort)","reason":"Fortitude 常见高值词" },
    { "id":"grief_high", "match":{"misc.runeword":"Grief"}, "conditions":{"damage_min_min":300}, "value":"高价值(Grief 高伤)","reason":"Grief 高卷武器" },
    { "id":"grief_default", "match":{"misc.runeword":"Grief"}, "conditions":{}, "value":"中高(Grief)","reason":"Grief 常见强力词" },

    /* Amulet (项链) 细化 */
    { "id":"amu_3skill_12fcr", "match":{"type":"Amulet"}, "conditions":{"fcr_min":12,"skills_plus_any_min":3}, "value":"极高(3技能+12FCR)","reason":"顶配项链" },
    { "id":"amu_3skill_10fcr", "match":{"type":"Amulet"}, "conditions":{"fcr_min":10,"skills_plus_any_min":3}, "value":"极高(3技能+10FCR)","reason":"高配项链" },
    { "id":"amu_2skill_12fcr", "match":{"type":"Amulet"}, "conditions":{"fcr_min":12,"skills_plus_any_min":2}, "value":"高(2技能+12FCR)","reason":"稀有2技能12FCR" },
    { "id":"amu_2skill_10fcr", "match":{"type":"Amulet"}, "conditions":{"fcr_min":10,"skills_plus_any_min":2}, "value":"高(2技能+10FCR)","reason":"2技能+10FCR 项链" },
    { "id":"amu_1skill_12fcr", "match":{"type":"Amulet"}, "conditions":{"fcr_min":12,"skills_plus_any_min":1}, "value":"中高(1技能+12FCR)","reason":"强力项链" },
    { "id":"amu_1skill_10fcr", "match":{"type":"Amulet"}, "conditions":{"fcr_min":10,"skills_plus_any_min":1}, "value":"中等(1技能+10FCR)","reason":"常见买家需求" },
    { "id":"amu_10fcr_mf20", "match":{"type":"Amulet"}, "conditions":{"fcr_min":10,"mf_min":20}, "value":"中高(10FCR+MF)","reason":"10FCR+高MF 项链" },
    { "id":"amu_mf_30", "match":{"type":"Amulet"}, "conditions":{"mf_min":30}, "value":"高(MF>=30)","reason":"高 MF 项链" },
    { "id":"amu_reslife", "match":{"type":"Amulet"}, "conditions":{"resist_any_min":20,"life_min":30}, "value":"中等(双抗+生命)","reason":"实用项链" },
    { "id":"amu_res_35", "match":{"type":"Amulet"}, "conditions":{"resist_any_min":35}, "value":"高(抗性项链)","reason":"大抗项链" },

    /* Ring (戒指) */
    { "id":"ring_10fcr_str15_res20", "match":{"type":"Ring"}, "conditions":{"fcr_min":10,"str_min":15,"resist_any_min":20}, "value":"高(10FCR+力+抗)","reason":"多面向戒指" },
    { "id":"ring_10fcr", "match":{"type":"Ring"}, "conditions":{"fcr_min":10}, "value":"中等(10FCR戒指)","reason":"10FCR 有基本价值" },
    { "id":"ring_mf30", "match":{"type":"Ring"}, "conditions":{"mf_min":30}, "value":"中高(MF戒指)","reason":"高 MF 戒指" },
    { "id":"ring_str25", "match":{"type":"Ring"}, "conditions":{"str_min":25}, "value":"高(力量>=25)","reason":"大力量戒指" },

    /* Boots (鞋) */
    { "id":"boots_40frw_3res25", "match":{"type":"Boots"}, "conditions":{"frw_min":40,"resist_count_min":3,"resist_each_min":25}, "value":"顶级(40FRW+三抗25)","reason":"极稀有跑鞋" },
    { "id":"boots_35frw_3res20", "match":{"type":"Boots"}, "conditions":{"frw_min":35,"resist_count_min":3,"resist_each_min":20}, "value":"极高(35FRW+三抗20)","reason":"高档跑鞋" },
    { "id":"boots_30frw_3res20", "match":{"type":"Boots"}, "conditions":{"frw_min":30,"resist_count_min":3,"resist_each_min":20}, "value":"高(30FRW+三抗20)","reason":"常见顶配跑鞋" },
    { "id":"boots_30frw_2res20", "match":{"type":"Boots"}, "conditions":{"frw_min":30,"resist_count_min":2,"resist_each_min":20}, "value":"中高(30FRW+双抗20)","reason":"实用跑鞋" },
    { "id":"boots_25frw", "match":{"type":"Boots"}, "conditions":{"frw_min":25}, "value":"中(25FRW)","reason":"不错的跑鞋" },
    { "id":"boots_20frw", "match":{"type":"Boots"}, "conditions":{"frw_min":20}, "value":"基础跑鞋(20FRW)","reason":"入门跑鞋" },

    /* Gloves (手套) */
    { "id":"gloves_2skill_20ias", "match":{"type":"Gloves"}, "conditions":{"skills_plus_any_min":2,"ias_min":20}, "value":"高(2技能+20IAS)","reason":"顶配手套" },
    { "id":"gloves_2skill_15ias", "match":{"type":"Gloves"}, "conditions":{"skills_plus_any_min":2,"ias_min":15}, "value":"中高(2技能+15IAS)","reason":"优质手套" },
    { "id":"gloves_mf30", "match":{"type":"Gloves"}, "conditions":{"mf_min":30}, "value":"中高(MF手套)","reason":"高 MF 手套有刷物需求" },

    /* Staff (法杖底材) */
    { "id":"staff_3light_high", "match":{"type":"Staff"}, "conditions":{"skill_exact":"3 to Lightning","damage_max_min":180}, "value":"高(3Lightning+高伤)","reason":"电法底材顶配" },
    { "id":"staff_3light", "match":{"type":"Staff"}, "conditions":{"skill_exact":"3 to Lightning"}, "value":"高(3Lightning)","reason":"常用法杖底材" },
    { "id":"staff_3enchant", "match":{"type":"Staff"}, "conditions":{"skill_exact":"3 to Enchant"}, "value":"中等(3Enchant)","reason":"Enchant 底材" },

    /* Helm */
    { "id":"helm_3bo", "match":{"type":"Helm"}, "conditions":{"skill_exact":"3 to Battle Orders"}, "value":"高(3BO)","reason":"3BO 头常做为套装/底材" },
    { "id":"helm_3wc", "match":{"type":"Helm"}, "conditions":{"skill_exact":"3 to War Cry"}, "value":"中等(3WC)","reason":"War Cry 头" },
    { "id":"helm_3skills_any", "match":{"type":"Helm"}, "conditions":{"skills_plus_any_min":3}, "value":"高(3技能头)","reason":"3技能头" },

    /* Sockets（孔数）与白板通用 */
    { "id":"sockets_4_weapon", "match":{}, "conditions":{"sockets_min":4,"damage_min_min":1}, "value":"4孔武器可售","reason":"4孔武器底材" },
    { "id":"sockets_4_armor", "match":{}, "conditions":{"sockets_min":4,"defense_min":100}, "value":"4孔护甲底材","reason":"4孔护甲" },
    { "id":"sockets_3_weapon", "match":{}, "conditions":{"sockets_min":3,"damage_min_min":1}, "value":"3孔武器可售","reason":"3孔武器" },

    /* eth + high dmg fallback */
    { "id":"eth_high_weapon", "match":{}, "conditions":{"ethereal":true,"damage_max_min":200}, "value":"高(eth + 高伤)","reason":"无形高伤武器有商用/merc需求" },

    /* 常见 runewords 直接命中（便于快速识别高价值词） */
    { "id":"rw_enigma", "match":{"misc.runeword":"Enigma"}, "conditions":{}, "value":"高(Enigma)","reason":"Enigma 高值词" },
    { "id":"rw_breath_dead", "match":{"misc.runeword":"Breath of the Dying"}, "conditions":{}, "value":"极高(BOTD)","reason":"BOTD 高端词" },
    { "id":"rw_coh", "match":{"misc.runeword":"Chains of Honor"}, "conditions":{}, "value":"高(CoH)","reason":"CoH 成套需求" },
    { "id":"rw_hot", "match":{"misc.runeword":"Heart of the Oak"}, "conditions":{}, "value":"高(Hot)","reason":"HoT 法系词" },
    { "id":"rw_bramble", "match":{"misc.runeword":"Bramble"}, "conditions":{}, "value":"中高(Bramble)","reason":"Bramble 抗性狂暴" },

    /* 拓展性组合：按阈值微调（大量规则覆盖常见阈值组合） */
    { "id":"amu_8fcr_2skill", "match":{"type":"Amulet"}, "conditions":{"fcr_min":8,"skills_plus_any_min":2}, "value":"中高(8FCR+2技能)","reason":"8FCR2技能项链也有市场" },
    { "id":"amu_8fcr_1skill", "match":{"type":"Amulet"}, "conditions":{"fcr_min":8,"skills_plus_any_min":1}, "value":"中(8FCR+1技能)","reason":"常见项链" },
    { "id":"amu_12fcr_mf20", "match":{"type":"Amulet"}, "conditions":{"fcr_min":12,"mf_min":20}, "value":"极高","reason":"12FCR+高MF 顶配项链" },
    { "id":"ring_mf_35", "match":{"type":"Ring"}, "conditions":{"mf_min":35}, "value":"高(MF>=35)","reason":"高 MF 戒指" },
    { "id":"boots_30frw_res15", "match":{"type":"Boots"}, "conditions":{"frw_min":30,"resist_count_min":3,"resist_each_min":15}, "value":"中高(30FRW+三抗15)","reason":"实用跑鞋" },
    { "id":"gloves_1skill_20ias", "match":{"type":"Gloves"}, "conditions":{"skills_plus_any_min":1,"ias_min":20}, "value":"中高(1技能+20IAS)","reason":"优质手套" },

    /* more combinations to expand coverage */
    { "id":"amu_mf_25_res20", "match":{"type":"Amulet"}, "conditions":{"mf_min":25,"resist_any_min":20}, "value":"中高","reason":"MF+抗 项链" },
    { "id":"ring_str20_mf20", "match":{"type":"Ring"}, "conditions":{"str_min":20,"mf_min":20}, "value":"中高","reason":"力量+MF 组合戒指" },
    { "id":"boots_15frw_tripleres", "match":{"type":"Boots"}, "conditions":{"frw_min":15,"resist_count_min":3,"resist_each_min":15}, "value":"中(15FRW+三抗)","reason":"入门跑鞋" },

    /* coverage: many more thresholded rules to reach 120+ */
    { "id":"spirit_monarch_130_25", "match":{"misc.runeword":"Spirit","type":"Monarch"}, "conditions":{"defense_min":130,"allres_min":25}, "value":"中等","reason":"Spirit 中档" },
    { "id":"spirit_monarch_120_20", "match":{"misc.runeword":"Spirit","type":"Monarch"}, "conditions":{"defense_min":120,"allres_min":20}, "value":"低中","reason":"Spirit 低档" },
    { "id":"monarch_white_120", "match":{"type":"Monarch"}, "conditions":{"defense_min":120}, "value":"有价值(底材)","reason":"Monarch>=120 有一定底材用途" },

    { "id":"amu_mana_50", "match":{"type":"Amulet"}, "conditions":{"mana_min":50}, "value":"中等(法力+项链)","reason":"大量法力项链实用" },
    { "id":"amu_life_75", "match":{"type":"Amulet"}, "conditions":{"life_min":75}, "value":"中(生命+项链)","reason":"高生命项链" },

    { "id":"helm_2skill_12", "match":{"type":"Helm"}, "conditions":{"skills_plus_any_min":2,"fcr_min":12}, "value":"高(2技能+12FCR头)","reason":"稀有组合头" },

    { "id":"staff_highbase", "match":{"type":"Staff"}, "conditions":{"damage_max_min":200}, "value":"高(高基伤法杖)","reason":"高基伤法杖底材" },

    { "id":"weapon_3socket", "match":{}, "conditions":{"sockets_min":3,"damage_min_min":40}, "value":"可售(3孔武器)","reason":"3孔优质武器底材" },

    { "id":"armor_3socket", "match":{}, "conditions":{"sockets_min":3,"defense_min":100}, "value":"可售(3孔护甲)","reason":"3孔护甲" },

    { "id":"fallback_allres30", "match":{}, "conditions":{"allres_min":30}, "value":"可能值钱(全抗>=30)","reason":"全抗>=30 常有交易价值" },
    { "id":"fallback_fcr10", "match":{}, "conditions":{"fcr_min":10}, "value":"可能值钱(FCR>=10)","reason":"FCR>=10 有稳定需求" },
    { "id":"fallback_mf30", "match":{}, "conditions":{"mf_min":30}, "value":"可能值钱(MF>=30)","reason":"高 MF 有价值" },

    /* Additional granular rules to reach 120+ coverage; using thresholds across types */
    { "id":"amu_5fcr_2skill", "match":{"type":"Amulet"}, "conditions":{"fcr_min":5,"skills_plus_any_min":2}, "value":"中(5FCR+2技能)","reason":"5FCR 也具备一定价值" },
    { "id":"ring_str_15", "match":{"type":"Ring"}, "conditions":{"str_min":15}, "value":"中(力量>=15)","reason":"力量戒指" },
    { "id":"gloves_ias_30", "match":{"type":"Gloves"}, "conditions":{"ias_min":30}, "value":"高(IAS>=30)","reason":"非常高 IAS 手套" },
    { "id":"boots_mf20", "match":{"type":"Boots"}, "conditions":{"mf_min":20}, "value":"中(MF鞋)","reason":"MF鞋" },
    { "id":"amu_2skill_6fcr", "match":{"type":"Amulet"}, "conditions":{"fcr_min":6,"skills_plus_any_min":2}, "value":"中(6FCR+2技能)","reason":"中档项链" },
    { "id":"helm_1skill_8fcr", "match":{"type":"Helm"}, "conditions":{"skills_plus_any_min":1,"fcr_min":8}, "value":"中(1技能+8FCR)","reason":"基础技能头" },
    { "id":"staff_2skill", "match":{"type":"Staff"}, "conditions":{"skills_plus_any_min":2}, "value":"中(2技能法杖)","reason":"实用法杖" },

    /* end of rule list */
    { "id":"__end_marker__","match":{},"conditions":{},"value":"无","reason":"规则末尾"}
  ]
}
